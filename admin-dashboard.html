<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VideoSat Admin Prosedür Paneli</title>
    <meta name="description" content="VideoSat admin prosedürlerini yönetin, denetleyin ve kayıt altına alın.">
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="modern-ui-enhancements.css">
    <link rel="stylesheet" href="text-readability-fix.css">
    <link rel="stylesheet" href="color-contrast-fix.css">
    <link rel="stylesheet" href="red-white-black-theme.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="admin-dashboard.css">
</head>
<body class="panel-body">
    <nav class="panel-nav" aria-label="Admin panel menü">
        <div class="panel-nav-container">
            <div class="panel-logo" data-section-target="dashboard">
                <a href="#dashboard" data-section="dashboard">
                    <i class="fas fa-shield-alt"></i>
                    <span>VideoSat</span>
                </a>
                <span class="role-badge admin">Admin</span>
            </div>
            <div class="panel-nav-menu">
                <a href="#dashboard" class="nav-link active" data-section="dashboard">
                    <i class="fas fa-layer-group"></i>
                    Prosedür Özeti
                </a>
                <a href="#procedures" class="nav-link" data-section="procedures">
                    <i class="fas fa-route"></i>
                    Prosedür Akışları
                </a>
                <a href="#checklists" class="nav-link" data-section="checklists">
                    <i class="fas fa-clipboard-check"></i>
                    Kontrol Listeleri
                </a>
                <a href="#documentation" class="nav-link" data-section="documentation">
                    <i class="fas fa-book"></i>
                    Dokümantasyon
                </a>
            </div>
            <div class="panel-user">
                <div class="user-welcome admin-welcome">
                    <i class="fas fa-user-shield"></i>
                    <div class="welcome-text">
                        <span class="welcome-label">Aktif Admin</span>
                        <span id="adminName" class="welcome-name">Admin</span>
                        <span id="adminMemberNumber" class="welcome-member">admin@videosat.com</span>
                    </div>
                </div>
                <button class="btn btn-outline btn-small" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i>
                    Çıkış
                </button>
            </div>
        </div>
    </nav>

    <main class="panel-main">
        <section id="dashboard" class="panel-section active" aria-labelledby="dashboardTitle">
            <div class="section-header">
                <div>
                    <h1 id="dashboardTitle"><i class="fas fa-compass"></i> Admin Prosedür Uyum Özeti</h1>
                    <p>VideoSat admin operasyonları için tanımlı prosedürlerin güncel durumunu, son denetim notlarını ve aksiyon gereksinimlerini tek ekranda izleyin.</p>
                </div>
                <div class="section-actions">
                    <button class="btn btn-primary" id="exportSummary">
                        <i class="fas fa-file-export"></i>
                        Özeti Dışa Aktar
                    </button>
                    <button class="btn btn-outline" id="refreshSnapshot">
                        <i class="fas fa-sync-alt"></i>
                        Denetimi Güncelle
                    </button>
                </div>
            </div>

            <div id="procedureSummary" class="summary-grid" aria-live="polite"></div>

            <div class="timeline-card" aria-labelledby="timelineTitle">
                <div class="timeline-header">
                    <h2 id="timelineTitle"><i class="fas fa-clock"></i> Son Denetim ve Güncelleme Kronolojisi</h2>
                    <p>Admin prosedürleri için yapılan son kontrollerin tarihçesi ve sorumluları.</p>
                </div>
                <ol id="auditTimeline" class="timeline-list"></ol>
            </div>

            <div class="user-directory-card" aria-labelledby="userDirectoryTitle">
                <div class="user-directory-header">
                    <div>
                        <h2 id="userDirectoryTitle"><i class="fas fa-users"></i> Departman Kullanıcı Bilgileri</h2>
                        <p>Admin tarafından oluşturulan tüm departman hesaplarının varsayılan e-posta ve şifre bilgileri. İlk giriş sonrası şifre değişikliğini prosedürlere uygun tamamlayın.</p>
                    </div>
                    <button class="btn btn-outline" id="copyUserDirectory">
                        <i class="fas fa-copy"></i>
                        Tabloyu Kopyala
                    </button>
                </div>
                <div class="user-directory-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Departman</th>
                                <th>Rol</th>
                                <th>E-posta</th>
                                <th>Varsayılan Şifre</th>
                                <th>Not</th>
                            </tr>
                        </thead>
                        <tbody id="departmentUserTable"></tbody>
                    </table>
                </div>
                <div class="directory-toggle">
                    <label for="departmentPasswordVisibility" class="directory-toggle-label">
                        <input type="checkbox" id="departmentPasswordVisibility" class="directory-toggle-input">
                        <span class="directory-toggle-icon"><i class="fas fa-eye"></i></span>
                        <span class="directory-toggle-text">Şifreleri göster</span>
                    </label>
                </div>
            </div>

            <div class="user-list-card" aria-labelledby="panelUserListTitle">
                <div class="user-list-header">
                    <div>
                        <h2 id="panelUserListTitle"><i class="fas fa-address-book"></i> Panel Üye Listesi</h2>
                        <p>Tüm seed edilmiş departman kullanıcıları ve yerel üyeler. Şifre değişikliklerinden sonra güncel bilgileri görmek için yenileyin.</p>
                    </div>
                    <div class="user-list-actions">
                        <div class="user-list-search">
                            <i class="fas fa-search"></i>
                            <input type="search" id="panelUserSearch" placeholder="E-posta, rol veya şirket adı ara..." aria-label="Panel üye arama">
                        </div>
                        <button class="btn btn-outline" id="refreshPanelUsers">
                            <i class="fas fa-sync"></i>
                            Yenile
                        </button>
                    </div>
                </div>
                <div class="user-list-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Ad Soyad</th>
                                <th>E-posta</th>
                                <th>Rol</th>
                                <th>Durum</th>
                                <th>Şirket</th>
                                <th>Kayıt Tarihi</th>
                                <th>Son Giriş</th>
                            </tr>
                        </thead>
                        <tbody id="panelUserTableBody">
                            <tr>
                                <td colspan="7" class="panel-user-empty">Yükleniyor...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <section id="procedures" class="panel-section" aria-labelledby="proceduresTitle">
            <div class="section-header">
                <div>
                    <h1 id="proceduresTitle"><i class="fas fa-route"></i> Prosedür Akışları</h1>
                    <p>Her prosedür için adım adım anlatım, kontrol maddeleri ve ilgili dokümantasyon bağlantıları.</p>
                </div>
                <div class="section-actions">
                    <input type="search" id="procedureSearch" class="search-input" placeholder="Prosedür ara..." aria-label="Prosedür arama">
                </div>
            </div>
            <div id="procedureList" class="procedure-grid"></div>
        </section>

        <section id="checklists" class="panel-section" aria-labelledby="checklistTitle">
            <div class="section-header">
                <div>
                    <h1 id="checklistTitle"><i class="fas fa-clipboard-check"></i> Kontrol Listeleri</h1>
                    <p>Denetim sırasında işaretlenmek üzere hazırlanan prosedür bazlı checklist öğeleri.</p>
                </div>
                <div class="section-actions">
                    <button class="btn btn-outline" id="clearChecklist">
                        <i class="fas fa-eraser"></i>
                        İşaretleri Temizle
                    </button>
                </div>
            </div>
            <div id="checklistContainer" class="checklist-grid"></div>
        </section>

        <section id="documentation" class="panel-section" aria-labelledby="documentationTitle">
            <div class="section-header">
                <div>
                    <h1 id="documentationTitle"><i class="fas fa-book"></i> Kaynak Dokümantasyon</h1>
                    <p>Prosedürlerin referans alındığı dokümanları hızlıca açın ve güncel tutun.</p>
                </div>
            </div>
            <div id="documentationList" class="documentation-list"></div>
        </section>
    </main>

    <script src="admin-dashboard.js" defer></script>
</body>
</html>


